(this.webpackJsonpdata_table=this.webpackJsonpdata_table||[]).push([[0],{53:function(e,t,n){},54:function(e,t,n){},6:function(e,t,n){e.exports={table:"Table_table__3cVv6",tbody:"Table_tbody__28b1x",thead:"Table_thead__1OMLY",pages:"Table_pages__2Hhm_",pagesBtnLeft:"Table_pagesBtnLeft__20av0",pagesBtnRight:"Table_pagesBtnRight__UjAdj",selectedPage:"Table_selectedPage__3R104",search:"Table_search__2t7Rk"}},79:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(16),r=n.n(s),i=(n(53),n(54),n(48)),u=n(14),o=n(6),l=n.n(o),b=n(42),d=n(35),j=n(1),g=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),n=[],c=1;c<=t;c++)n.push(c);var s=Math.ceil(t/10),r=Object(a.useState)(1),i=Object(u.a)(r,2),o=i[0],g=i[1],h=10*(o-1)+1,f=10*o,O=e.sortRows,p=function(e){if(O)return O.key===e?O.direction:void 0};return Object(j.jsxs)("div",{children:[Object(j.jsxs)("table",{className:l.a.table,children:[Object(j.jsx)("thead",{className:l.a.thead,children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{onClick:function(){return e.requestSort("id")},className:p("id"),children:"ID"}),Object(j.jsx)("th",{onClick:function(){return e.requestSort("name")},className:p("name"),children:"Name"}),Object(j.jsx)("th",{onClick:function(){return e.requestSort("status")},className:p("status"),children:"Status"}),Object(j.jsx)("th",{children:"Photo"})]})}),Object(j.jsx)("tbody",{className:l.a.tbody,children:e.users.map((function(e){return Object(j.jsxs)("tr",{className:l.a.tbody,children:[Object(j.jsx)("td",{children:e.id}),Object(j.jsx)("td",{style:{width:"250px"},children:e.name}),Object(j.jsx)("td",{style:{width:"250px"},children:e.status?e.status:"No status yet"}),Object(j.jsx)("td",{children:null!=e.photos.small?"Yep":"Nope"})]},e.id)}))})]}),Object(j.jsxs)("div",{className:l.a.pages,children:[o>1&&Object(j.jsx)(d.a,{size:"25",color:"grey",className:l.a.pagesBtnLeft,onClick:function(){g(o-1)}}),n.filter((function(e){return e>=h&&e<=f})).map((function(t){return Object(j.jsx)("span",{className:e.currentPage===t&&l.a.selectedPage,onClick:function(n){e.onPageChanged(t)},children:t+" "})})),s>o&&Object(j.jsx)(b.a,{size:"25",color:"grey",className:l.a.pagesBtnRight,onClick:function(){g(o+1)}})]})]},e.users.id)},h=n(19),f=n(44),O=Object(f.a)((function(e){return e.tablePage.users}),(function(e){return e.filter((function(e){return!0}))})),p=function(e){return e.tablePage.pageSize},x=function(e){return e.tablePage.totalUsersCount},_=function(e){return e.tablePage.currentPage},m=function(e){return e.tablePage.isFetching},C=n(7),v=n(45).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"2e993b56-c8b6-4744-b277-c9b4cada2532"}}),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return v.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},P="SET_USERS",y="SET_CURRENT_PAGE",N="SET_TOTAL_USERS_COUNT",T="TOGGLE_IS_FETCHING",k={users:[],pageSize:50,totalUsersCount:0,isFetching:!0},U=function(e){return{type:y,currentPage:e}},w=function(e){return{type:T,isFetching:e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(C.a)(Object(C.a)({},e),{},{users:t.users});case y:return Object(C.a)(Object(C.a)({},e),{},{currentPage:t.currentPage});case N:return Object(C.a)(Object(C.a)({},e),{},{totalUsersCount:t.count});case T:return Object(C.a)(Object(C.a)({},e),{},{isFetching:t.isFetching});default:return e}},F=n.p+"static/media/loader2.62746178.gif",R=function(e){return Object(j.jsx)("div",{style:{backgroundColor:""},children:Object(j.jsx)("img",{src:F})})},L=Object(h.b)((function(e){return{users:O(e),pageSize:p(e),totalUsersCount:x(e),currentPage:_(e),isFetching:m(e)}}),{requestUsers:function(e,t){return function(n){n(w(!0)),n(U(e)),S(e,t).then((function(e){var t,a;n(w(!1)),n((t=e.items,{type:P,users:t})),n((a=Math.ceil(e.totalCount/4),{type:N,count:a}))}))}},setCurrentPage:U})((function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),s=n[0],r=n[1],o=Object(a.useState)(""),b=Object(u.a)(o,2),d=b[0],h=b[1];Object(a.useEffect)((function(){e.requestUsers(e.currentPage,e.pageSize)}),[]);var f,O=e.users,p=c.a.useMemo((function(){var e=Object(i.a)(O);return null!==s&&e.sort((function(e,t){return e[s.key]<t[s.key]?"ascending"===s.direction?-1:1:e[s.key]>t[s.key]?"ascending"===s.direction?1:-1:0})),e}),[O,s]);return Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{value:d,type:"text",className:l.a.search,placeholder:"Search.. ",onChange:function(e){return h(e.target.value)}}),e.isFetching?Object(j.jsx)(R,{}):null,Object(j.jsx)(g,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:function(t){e.requestUsers(t,e.pageSize)},users:(f=p,f.filter((function(e){return e.name.toLowerCase().indexOf(d.toLowerCase())>-1}))),requestSort:function(e){var t="ascending";s&&s.key===e&&"ascending"===s.direction&&(t="descending"),r({key:e,direction:t})},sortRows:s})]})}));var z=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(L,{})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))},q=n(47),I=n(12),M=n(46),A=Object(I.c)({tablePage:E}),G=Object(I.d)(A,Object(I.a)(M.a));window.store=G;var Y=G;r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(q.a,{basename:"/data_table",children:Object(j.jsx)(h.a,{store:Y,children:Object(j.jsx)(z,{})})})}),document.getElementById("root")),B()}},[[79,1,2]]]);
//# sourceMappingURL=main.e2ee2a45.chunk.js.map